# 7. 네트워크 운영과 보안

## 1. 네트워크 운용

### 1-1. 네트워크를 운용할 때 할 일

**네트워크 운용**

: 시스템 및 네트워크가 계속 동작하는 상태 유지

**네트워크 운용 예시**

- 네트워크 설정을 변경해야 할 때 설정 변경 작업(및 그에 부수되는 작업)을 실시
- 감시 소프트웨어 등으로 네트워크 가동 상황이나 트래픽 모니터링
- 장애를 감지 했다면 정상적인 상태로 회복할 수 있도록 각종 대처 실시
- 필요에 따라 서버 엔지니어와 협업하여 오류 등을 분리
- 필요에 따라 네트워크 개선 제안

### 1-2. 설정 변경 작업

1. **설정 변경 내용을 명확히 하기**
    1. 설정 변경의 목적, 예상 결과 등을 명확하게 하고 필요에 따라 문서 만듬
2. **설정 변경 작업 전 순서 검토**
    1. 관계자와 설정 변경 작업 순서 설명 및 검토
    2. 사용되는 문서: 설계서, 설정 변경 절차서, 작업 스케줄 표 등
    3. 검토 과정 중 피드백을 반영하여 절차 수정
3. **설정 변경 작업 실시**
    1. 실제 설정 변경 작업 수행
    2. 관계자 조정 후 작업 일시를 미리 정해둠
4. **테스트**
    1. 예상대로 동작하는지 테스트
    2. 시스템 담당자의 확인이 필요함
5. **복구**
    1. 작업이 정상적으로 완료되지 않은 경우 설정 변경 전 상태로 되돌림

### 1-3. 트러블슈팅

: 네트워크가 원인이라 판단되는 문제가 발생했을 때 정상적으로 동작할 때와 현상을 비교하여 어느 곳의 문제인지 밝혀낸 후 대처를 하는 것

- **트러블슈팅 진행 순서**
    1. 장애 감지
    2. 현상 파악
    3. 대처
    4. 장애 해결 후 보고

- **실습: 통신 장애 일으키기**
    - 랜 선을 뽑고 ping을 날려가며 확인
    
    ```powershell
    > ping 192.168.0.1
    
    Ping 192.168.0.1 32바이트 데이터 사용:
    192.168.0.1의 응답: 바이트=32 시간=4ms TTL=64
    192.168.0.1의 응답: 바이트=32 시간=2ms TTL=64
    192.168.0.1의 응답: 바이트=32 시간=17ms TTL=64
    
    192.168.0.1에 대한 Ping 통계:
        패킷: 보냄 = 3, 받음 = 3, 손실 = 0 (0% 손실),
    왕복 시간(밀리초):
        최소 = 2ms, 최대 = 17ms, 평균 = 7ms
    
    > ping 192.168.0.1
    
    Ping 192.168.0.1 32바이트 데이터 사용:
    일반 오류.
    일반 오류.
    
    192.168.0.1에 대한 Ping 통계:
        패킷: 보냄 = 2, 받음 = 0, 손실 = 2 (100% 손실),
    ```
    

## 2. 보안 대책의 기초 지식

### 2-1. 정보 보안 3요소

- **기밀성**
    - 허가받은 사람만 해당 정보를 사용할 수 있는 상태로 유지하는 것
    - 정보 유출 방지,적절한 접근 권한 설정, 암호 이용 등의 조치를 취함
- **무결성**
    - 권한이 없는 사람이 정보를 변경할 수 없는 상태로 유지하는 것
    - 정보 변조를 방지하거나 변조되었을 때 감지하는 조치를 취함
- **가용성**
    - 정보가 필요할 때 사용할 수 있는 상태로 유지하는 것
    - 전원이나 시스템의 이중화, 백업, 재해가 발생했을 때 대응책 등의 조치를 취함

### 2-2. 정보 보안 위협과 공격 기법

- **표적형 공격**
    - 타깃을 특정 조직이나 사용자층으로 좁혀 감행하는 공격
    - 아는 사람이나 거래처를 가장하여 위험한 파일이나 웹사이트로 유도해 컴퓨터를 멀웨어에 감염시킴
- **랜섬웨어**
    - 트로이 목마(유용한 소프트웨어로 가장한 악성 소프트웨어)로 내부에 침입하여 데이터를 암호화 하거나, 패스워드를 걸어 참조할 수 없게 한 뒤 사용자가 데이터에 접근할 때 금전을 요구함
- **DoS, DDoS 공격**
    - 서버에 대량의 데이터를 전송하여 트래픽을 증가시킴으로써 네트워크 및 서버를 다운시키는 공격
    - DoS: 컴퓨터 한 대로 공격하는 것
    - DDoS: 컴퓨터 여러 대로 공격하는 것
    - 클라우드 서비스가 보급되면서 보안 대책이 불충분한 서버가 해킹되어 DDoS 공격에 사용됨
- **F5 공격**
    - DoS, DDoS 공격의 일종, 웹사이트에 접속하여 새로고침을 대량으로 발생시켜 서버를 과부화 상태로 만들어 다운 시키는 것
    - 공격 여부를 감지하기 어려운 공격 기법
- **SQL 인젝션**
    - DB 서버와 연계하여 동작하는 웹 어플리케이션의 입력 양식에 악의적인 SQL 문을 입력했을 때 해당 SQL문을 처리해서 개인 정보와 같은 기밀 정보를 빼내는 것
- **크로스사이드 스크립팅(XSS)**
    - 입력 양식에 악의적인 공격용 스크립트를 이용해 스크립트가 실행되게 하는 것
- **무차별 대입 공격**
    - ID와 패스워드 조합으로 로그인할 수 있는 시스템에 가능한 조합을 모두 시도하여 부당하게 접근하려는 공격
    - 해킹 툴을 이용하면 쉽게 시도할 수 있는 방법이므로 부정하게 접근되는 사례로 가장 많음
- **패스워드 리스트 공격**
    - 다른 웹사이트에서 부정한 방식으로 입수한 ID와 패스워드 세트를 이용해 로그인을 시도하는 공격

## 3. 네트워크 보안 대책

### 3-1. 네트워크 기기와 서비스를 이용한 방어

- **방화벽**
    
    : 네트워크 연결점에서 통과시켜서는 안되는 통신을 차단하는 시스템
    
    - 어플라이언스 형: 소프트웨어와 하드웨어 세트로 판매하는 형태
    - 소프트웨어 형: 컴퓨터에 설치하는 형태
- **패킷 필터링**
    - 대표적인 방화벽 종류. 패킷의 IP 주소와 포트 번호를 바탕으로 허가할 통신을 설정하고 그 이외의 통신은 거부하는 방식으로 동작함
    - 방화벽 규칙(허용할 통신 규칙과 차단할 통신 규칙 세트) 적용. 순서대로 적용하므로 순서가 중요함
- **상태 기반 패킷 검사**
    - 패킷 필터링을 기본으로 하면서 침해를 강력하게 탐지하는 기술
    - TCP/UDP의 세션 상태를 기억해 정당한 순서의 TCP/UDP세션인지 판단하고 부정한 패킷 차단
    - 내부에서 발신한 통신 기억하고 반환된 통신이 내부에서 발생한 통신에 대한 응답인지 판단
    - 외부에서 시작된 통신은 허용하는 규칙이 없는 한 차단됨
    - AWS EC2의 보안그룹도 동일한 역할
- **DMZ**
    - DMZ 네트워크 세그먼트와 내부 네트워크 세그먼트를 분할하고, 공개 서버를 DMZ에 설치하여 DMZ에서 내부 네트워크로 통신을 제한하므로써 공개 서버가 해킹으로 공격 거점이 되었을 때 내부 네트워크를 지킬 수 있는 보안 대책

### 3-2. 로그 분석

**로그 분석의 효과**

- 외부로부터 부정한 액세스를 일찍 감지
- 내부 위협에 대응 (내부 범행이나 조작 실수 추적)
- SIEM(다양한 네트워크 장비의 로그를 일원적으로 감지하여 관리자에게 통보해주는 소프트웨어)

### 3-4. 컴퓨터 보안을 유지하는 법

- OS를 항상 최신으로 유지
- 바이러스 백신 프로그램 사용
- 다요소 인증 사용
- **씬 클라이언트**
    - 사용자 컴퓨터에 저장 매체를 탑재하지 않고 네트워크를 경유해 이용하는 형태
    - OS, 데이터는 서버에 저장되어 있고 단말에서 네트워크를 경유해 이용함
    - **장점**
        - 어디에서나 이용할 수 있음
        - 중앙 집중식 관리 가능
        - 분실이나 도난 위험성 줄어듬
    - **단점**
        - 네트워크 부하가 커짐
        - 초기 투자가 커짐

## 4. 네트워크 모니터링 패턴

### 4-1. 네트워크와 서버의 모니터링 패턴

- **리소스 모니터링**
    - 서버, 네트워크 기기의 메모리, CPU 사용율 등을 모니터링하는 것의 통칭
    - 서버나 네트워크 기기가 동작하는데 병목 현상이 일어나는지, 향후 서비스 동작에 영향을 주는지 사전에 감지하기 위해 수행
- **트래픽 모니터링**
    - 서버나 네트워크의 통신량을 모니터링 하는 것
    - 리소스 모니터링과 비슷한 목적을 가지나 네트워크 전송량에 집중한 것
- **헬스 체크**
    - 서버가 정상적으로 동작하고 있는지 모니터링 하는 것
    - 인터넷을 통해 ping을 보내거나 인터넷을 통해 요청을 보내고 ok 응답을 받는 등의 외부 모니터링 수행